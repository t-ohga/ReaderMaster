# UX/UIデザイン仕様テンプレート

## 1. デザインコンセプト

### 1.1 デザインビジョン
<!-- 全体的なデザインの方向性と目指す体験を記述 -->

**ビジョンステートメント:**
```
[このデザインが実現する理想的なユーザー体験を記述]
```

**デザインメタファー:**
- 物理的作業空間: [テーブル、デスク等のメタファー説明]
- 操作感覚: [実世界の操作との対応関係]

### 1.2 ターゲットユーザー
<!-- 想定ユーザーのペルソナと利用シーン -->

**プライマリペルソナ:**
- 名前: [ペルソナ名]
- 背景: [職業、スキルレベル、利用目的]
- ニーズ: [解決したい課題]
- 環境: [利用デバイス、場所、時間帯]

**セカンダリペルソナ:**
[必要に応じて追加]

---

## 2. インタラクションパターン

### 2.1 基本操作

#### ドラッグ&ドロップ
**目的:** オブジェクトの位置変更、配置、整理

**操作仕様:**
- **開始条件:** [オブジェクトをポイント + マウスダウン/タッチ開始]
- **ドラッグ中:**
  - ビジュアルフィードバック: [半透明表示、影の表示等]
  - 制約: [グリッドスナップ、境界制限等]
- **ドロップ:**
  - 有効エリア: [ドロップ可能領域の定義]
  - 無効時の挙動: [元の位置に戻る、最近接位置にスナップ等]

**キーボード代替操作:**
```
矢印キー: 1pxずつ移動
Shift + 矢印キー: 10pxずつ移動
```

#### ズーム/パン/回転
**目的:** 作業領域の視点調整

**ズーム操作:**
- マウスホイール: 上下でズームイン/アウト
- ピンチジェスチャー: 2本指で拡大縮小
- キーボード: `Ctrl + +/-` または `Cmd + +/-`
- ズーム範囲: [最小倍率] ～ [最大倍率]

**パン操作:**
- マウスドラッグ: [中ボタン/右ボタン] + ドラッグ
- タッチ: 2本指スワイプ
- キーボード: `Space` + マウスドラッグ

**回転操作:**
- マウス: [特定キー] + ドラッグ
- タッチ: 2本指回転ジェスチャー
- キーボード: [回転キーの定義]

### 2.2 オブジェクト操作

#### 選択
- **単一選択:** クリック/タップ
- **複数選択:**
  - `Ctrl/Cmd` + クリック（追加選択）
  - `Shift` + クリック（範囲選択）
  - 矩形選択: ドラッグで範囲指定

#### 編集
- **サイズ変更:**
  - ハンドルをドラッグ
  - アスペクト比維持: `Shift` キー
- **回転:**
  - 回転ハンドルをドラッグ
  - 15度刻み: `Shift` キー
- **削除:**
  - `Delete`/`Backspace` キー
  - コンテキストメニュー

#### グループ化
- **グループ作成:** 複数選択 + `Ctrl/Cmd + G`
- **グループ解除:** `Ctrl/Cmd + Shift + G`
- **グループ内編集:** ダブルクリックで編集モード

### 2.3 ジェスチャーとショートカット

**マウスジェスチャー:**
| ジェスチャー | 機能 |
|------------|------|
| [ジェスチャー1] | [機能説明] |
| [ジェスチャー2] | [機能説明] |

**キーボードショートカット:**
| ショートカット | 機能 | カテゴリ |
|--------------|------|---------|
| `Ctrl/Cmd + Z` | 元に戻す | 編集 |
| `Ctrl/Cmd + Y` | やり直し | 編集 |
| `Ctrl/Cmd + C` | コピー | 編集 |
| [その他] | [機能] | [カテゴリ] |

---

## 3. ビジュアルデザイン

### 3.1 レイアウトシステム

#### グリッドシステム
- **ベースグリッド:** [8px / 12カラム 等]
- **ブレークポイント:**
  - モバイル: < 768px
  - タブレット: 768px ～ 1024px
  - デスクトップ: > 1024px

#### スペーシング
```
--spacing-xs: 4px
--spacing-sm: 8px
--spacing-md: 16px
--spacing-lg: 24px
--spacing-xl: 32px
--spacing-xxl: 48px
```

#### コンポーネント配置
- **ヘッダー:** [高さ、位置、z-index]
- **サイドバー:** [幅、展開/折りたたみ動作]
- **メインエリア:** [作業領域の定義]
- **フッター:** [高さ、表示内容]

### 3.2 カラーパレット

#### プライマリカラー
```css
--primary-50: #[色コード]
--primary-100: #[色コード]
--primary-500: #[色コード] /* メインカラー */
--primary-700: #[色コード]
--primary-900: #[色コード]
```

#### セカンダリカラー
```css
--secondary-500: #[色コード]
```

#### システムカラー
```css
--success: #[色コード]
--warning: #[色コード]
--error: #[色コード]
--info: #[色コード]
```

#### ニュートラルカラー
```css
--gray-50: #[色コード]  /* 背景 */
--gray-100: #[色コード]
--gray-500: #[色コード] /* ボーダー */
--gray-900: #[色コード] /* テキスト */
```

#### ダークモード
```css
/* ダークモード時のカラー定義 */
[data-theme="dark"] {
  --background: #[色コード]
  --text: #[色コード]
}
```

### 3.3 タイポグラフィ

#### フォントファミリー
```css
--font-family-primary: [メインフォント]
--font-family-mono: [コードフォント]
```

#### タイプスケール
```css
--text-xs: 12px / 1.4    /* 補足テキスト */
--text-sm: 14px / 1.5    /* 小サイズテキスト */
--text-base: 16px / 1.5  /* 本文 */
--text-lg: 18px / 1.5    /* 大きめテキスト */
--text-xl: 20px / 1.4    /* 小見出し */
--text-2xl: 24px / 1.3   /* 見出し2 */
--text-3xl: 30px / 1.2   /* 見出し1 */
```

#### フォントウェイト
```css
--font-weight-normal: 400
--font-weight-medium: 500
--font-weight-semibold: 600
--font-weight-bold: 700
```

### 3.4 アイコンとビジュアル要素

#### アイコンシステム
- **アイコンライブラリ:** [Heroicons / Lucide / Material Icons 等]
- **サイズ:**
  - Small: 16px
  - Medium: 24px
  - Large: 32px

#### イラストレーション
- **スタイル:** [フラット / アイソメトリック / 3D 等]
- **使用場面:** [空状態、エラー、オンボーディング等]

#### シャドウシステム
```css
--shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05)
--shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1)
--shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1)
--shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.1)
```

---

## 4. アクセシビリティ

### 4.1 WCAG準拠基準

#### 準拠レベル
- **目標:** WCAG 2.1 Level AA
- **重要領域でのLevel AAA:** [フォーカス表示、コントラスト等]

#### 知覚可能性 (Perceivable)
**1.1 代替テキスト**
- すべての画像に`alt`属性を提供
- 装飾画像は`alt=""`

**1.3 適応可能**
- セマンティックHTML使用
- 論理的な見出し構造 (`h1` → `h2` → `h3`)

**1.4 判別可能**
- コントラスト比:
  - 通常テキスト: 最低 4.5:1
  - 大きいテキスト: 最低 3:1
  - UIコンポーネント: 最低 3:1

#### 操作可能性 (Operable)
**2.1 キーボード操作**
- すべての機能をキーボードで操作可能
- フォーカストラップの適切な実装
- スキップリンクの提供

**2.4 ナビゲーション**
- 明確なフォーカスインジケーター
- パンくずリストの提供
- ランドマークロールの使用

**2.5 入力モダリティ**
- タッチターゲット最小サイズ: 44x44px
- ポインターキャンセル機能

#### 理解可能性 (Understandable)
**3.1 読みやすさ**
- `lang`属性の指定
- 専門用語の説明提供

**3.2 予測可能**
- 一貫したナビゲーション
- フォーカス時の予期しないコンテキスト変更なし

**3.3 入力支援**
- エラーメッセージの明確な提示
- フォームラベルと説明の提供
- エラー修正の提案

#### 堅牢性 (Robust)
**4.1 互換性**
- 有効なHTMLマークアップ
- ARIAの適切な使用

### 4.2 キーボードナビゲーション

#### フォーカス管理
**フォーカス順序:**
1. ヘッダーナビゲーション
2. メインコンテンツ
3. サイドバー（存在する場合）
4. フッター

**フォーカス表示:**
```css
:focus-visible {
  outline: 2px solid var(--primary-500);
  outline-offset: 2px;
}
```

#### キーボード操作パターン
| コンポーネント | キー操作 |
|--------------|---------|
| モーダル | `Esc`: 閉じる、`Tab`: フォーカス循環 |
| ドロップダウン | `↑↓`: 選択移動、`Enter`: 決定、`Esc`: 閉じる |
| タブ | `←→`: タブ切替、`Home/End`: 最初/最後のタブ |
| ツリー | `↑↓`: 移動、`→`: 展開、`←`: 折りたたみ |

### 4.3 スクリーンリーダー対応

#### ARIAラベルとロール
```html
<!-- 例: カスタムボタン -->
<div role="button"
     aria-label="ファイルをアップロード"
     tabindex="0">
  <svg aria-hidden="true">...</svg>
</div>

<!-- 例: ステータス通知 -->
<div role="status" aria-live="polite">
  ファイルが正常にアップロードされました
</div>
```

#### ライブリージョン
- `aria-live="polite"`: 重要でない更新
- `aria-live="assertive"`: 緊急の通知
- `aria-atomic="true"`: 領域全体を読み上げ

#### スクリーンリーダーテスト
- **macOS:** VoiceOver
- **Windows:** NVDA / JAWS
- **モバイル:** iOS VoiceOver / Android TalkBack

### 4.4 色覚多様性への配慮

#### カラーユニバーサルデザイン
- 色だけで情報を伝えない
- パターン、アイコン、テキストで補完

#### 検証ツール
- [Sim Daltonism](https://michelf.ca/projects/sim-daltonism/)
- [Color Oracle](https://colororacle.org/)
- Chrome DevTools: Vision Deficiency Emulation

---

## 5. UXゴール設定

### 5.1 ユーザビリティ目標

#### 効率性
- **タスク完了時間:**
  - [タスクA]: 平均 < [X]秒
  - [タスクB]: 平均 < [Y]秒

#### 有効性
- **タスク成功率:**
  - 主要タスク: > 95%
  - 副次的タスク: > 85%

#### 満足度
- **SUS (System Usability Scale):** > 80
- **NPS (Net Promoter Score):** > 50

#### 学習容易性
- **初回使用:** 基本操作習得 < 5分
- **ヘルプ参照率:** < 10%

### 5.2 アクセシビリティ目標

- **WCAG 2.1 AA準拠率:** 100%
- **キーボード操作可能率:** 100%
- **スクリーンリーダー対応率:** 100%
- **モバイルアクセシビリティ:** Level AA

### 5.3 パフォーマンス目標

#### レスポンス時間
- **インタラクション応答:** < 100ms
- **ページ遷移:** < 200ms
- **重い処理:** プログレス表示 + < 1秒

#### アニメーション
- **フレームレート:** 60fps維持
- **preference:** `prefers-reduced-motion`対応

---

## 6. デザイン検証

### 6.1 ユーザビリティテスト

#### テスト計画
- **参加者:** [人数、属性]
- **タスク:** [テストタスクリスト]
- **成功基準:** [定量/定性基準]

#### 測定指標
- タスク完了時間
- エラー発生率
- 満足度スコア
- 言語プロトコル分析

### 6.2 A/Bテスト

#### テスト項目
- [デザインパターンA vs B]
- [配色A vs B]
- [ナビゲーションA vs B]

#### 評価指標
- コンバージョン率
- エンゲージメント率
- 離脱率

### 6.3 アクセシビリティ監査

#### 自動テスト
- **ツール:** axe DevTools / Lighthouse
- **頻度:** CI/CD統合（毎回）

#### 手動テスト
- キーボードナビゲーション検証
- スクリーンリーダー検証
- カラーコントラスト検証

---

## 7. デザインシステム管理

### 7.1 コンポーネントライブラリ

#### デザイントークン
```json
{
  "colors": { ... },
  "spacing": { ... },
  "typography": { ... },
  "shadows": { ... }
}
```

#### コンポーネントカタログ
- Storybook等でドキュメント化
- 使用ガイドラインの記載

### 7.2 バージョン管理

#### 変更管理
- デザイン変更履歴の記録
- 破壊的変更の通知プロセス

#### 一貫性維持
- デザインレビュープロセス
- 定期的なデザイン監査

---

## 8. 実装ガイドライン

### 8.1 技術スタック推奨

#### UIフレームワーク
- [React / Vue / Angular 等]
- コンポーネントライブラリ: [Radix UI / Headless UI 等]

#### スタイリング
- CSS-in-JS / Tailwind CSS / CSS Modules
- デザイントークン管理

#### アクセシビリティ
- `@axe-core/react` / `eslint-plugin-jsx-a11y`
- `react-aria` / `@headlessui/react`

### 8.2 品質基準

#### コードレビュー観点
- セマンティックHTML使用
- ARIA属性の適切性
- キーボード操作性
- カラーコントラスト

#### CI/CD統合
- 自動アクセシビリティテスト
- ビジュアルリグレッションテスト
- パフォーマンス測定

---

## 9. リファレンス

### 参考資料
- [WCAG 2.1 ガイドライン](https://www.w3.org/TR/WCAG21/)
- [WAI-ARIA Authoring Practices](https://www.w3.org/WAI/ARIA/apg/)
- [Material Design Guidelines](https://m3.material.io/)

### デザインツール
- Figma / Adobe XD
- Storybook
- axe DevTools

---

**テンプレート作成日:** [日付]
**最終更新日:** [日付]
**作成者:** [名前/チーム]
